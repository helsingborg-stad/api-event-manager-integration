(()=>{"use strict";var t;(t=t||{}).Admin=t.Admin||{},t.Admin.AcceptDeny=function(t){function e(){t(function(){this.handleEvents()}.bind(this))}return e.prototype.changeAccepted=function(e,o){t.ajax({url:eventintegration.ajaxurl,type:"post",data:{action:"accept_or_deny",value:e,postId:o},beforeSend:function(n){var a=t("#post-"+o);1==e?(a.find(".deny").removeClass("hidden"),a.find(".accept").addClass("hidden")):0==e&&(a.find(".deny").addClass("hidden"),a.find(".accept").removeClass("hidden"))}})},e.prototype.handleEvents=function(){t(document).on("click",".accept",function(o){o.preventDefault();var n=t(o.target).attr("postid");e.prototype.changeAccepted(1,n)}.bind(this)),t(document).on("click",".deny",function(o){o.preventDefault();var n=t(o.target).attr("postid");e.prototype.changeAccepted(0,n)}.bind(this))},new e}(jQuery),(()=>{var t=t||{};t.Admin=t.Admin||{},t.Admin.DrawMap=function(t){var e,o=eventIntegrationAdmin.options.areaCoordinates;function n(){t(function(){"object"==typeof google&&"object"==typeof google.maps&&"event_page_event-options"===pagenow&&(this.init(),this.handleEvents())}.bind(this))}return n.prototype.init=function(){var t=new google.maps.Map(document.getElementById("draw-map-area"),{zoom:13,center:{lat:56.04673,lng:12.69437},disableDefaultUI:!0,zoomControl:!0}),n={strokeWeight:2,fillOpacity:.45,fillColor:"#1e90ff",strokeColor:"#0480FF"};if(o){n.paths=o,e=new google.maps.Polygon(n);for(var a=new google.maps.LatLngBounds,i=0;i<o.length;i++)a.extend(o[i]);t.fitBounds(a)}else e=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:["polygon"]},polygonOptions:n});e.setMap(t),e.addListener("overlaycomplete",function(t){this.polygonComplete(t)}.bind(this))},n.prototype.polygonComplete=function(o){o.overlay;var n=o.overlay.getPath(),a=[];if(n.length>8)return this.clearMap(),t("#clear-draw-map").after('<div class="notice error"><p>Exceeded maximum amount of 8 points. Please try again.</p></div>'),void t(".notice",drawDiv).delay(3e3).fadeOut();for(var i=0;i<n.length;i++){var r=n.getAt(i);a.push({lat:r.lat(),lng:r.lng()})}this.saveDrawOptions(a),o.type!=google.maps.drawing.OverlayType.MARKER&&(e.setDrawingMode(null),e.setOptions({drawingControl:!1}))},n.prototype.saveDrawOptions=function(e){t.ajax({url:eventintegration.ajaxurl,type:"post",dataType:"json",data:{action:"save_draw_points",coordinates:e},error:function(t){console.log(t)}})},n.prototype.clearMap=function(){o=null,this.init()},n.prototype.handleEvents=function(){document.getElementById("clear-draw-map").addEventListener("click",function(t){t.preventDefault(),this.clearMap()}.bind(this))},new n}(jQuery)})(),(()=>{var t=t||{};t.loading=!1,t.data={action:"import_events",value:""},t.timerId=null,jQuery(document).ready((function(e){e("#importevents").click((function(){if(!t.loadingOccasions){t.loadingOccasions=!0;var o=e(this),n=function(t){return{bgColor:t.css("background-color"),textColor:t.css("color"),borderColor:t.css("border-color"),textShadow:t.css("text-shadow"),boxShadow:t.css("box-shadow"),width:t.css("width"),text:t.text()}}(o);!function(e,o){e.fadeOut(500,(function(){var n=[eventIntegrationAdmin.loading+"&nbsp;&nbsp;&nbsp;",eventIntegrationAdmin.loading+".&nbsp;&nbsp;",eventIntegrationAdmin.loading+"..&nbsp;",eventIntegrationAdmin.loading+"..."];e.css("background-color","rgb(51, 197, 255)"),e.css("border-color","rgb(0, 164, 230)"),e.css("color","white"),e.css("text-shadow","0 -1px 1px rgb(0, 164, 230),1px 0 1px rgb(0, 164, 230),0 1px 1px rgb(0, 164, 230),-1px 0 1px rgb(0, 164, 230)"),e.css("box-shadow","none"),e.css("width","85px"),e.html(n[0]),e.fadeIn(500);var a=1;t.timerId=setInterval((function(){a>3&&(a=0),e.html(n[a]),++a}),500),null!=o&&o()}))}(o,(function(){t.data.value=o.attr("id"),jQuery.post(ajaxurl,t.data,(function(e){t.loadingOccasions=!1,function(e,o){e.fadeOut(500,(function(){e.css("background-color",o.bgColor),e.css("color",o.textColor),e.css("border-color",o.borderColor),e.css("text-shadow",o.textShadow),e.css("box-shadow",o.boxShadow),e.css("width",o.width),e.text(o.text),e.fadeIn(500),clearTimeout(t.timerId)}))}(o,n),location.reload()}))}))}}))}))})(),(()=>{var t=t||{};t.Admin=t.Admin||{},t.Admin.Oauth=function(t){function e(){t(function(){t(".oauth-access").addClass("hidden"),this.handleEvents()}.bind(this))}return e.prototype.requestOauth=function(e,o){t.ajax({url:eventintegration.ajaxurl,type:"post",dataType:"json",data:{action:"request_oauth",client:e,secret:o},success:function(e){e.success?(t(".error").addClass("hidden"),t(".updated").removeClass("hidden").empty().append("<p>"+e.data.message+"</p>"),t("#oauth-access").before("<p>"+e.data.url+"</p>"),t(".oauth-request").addClass("hidden"),t(".oauth-access").removeClass("hidden")):(t(".updated").addClass("hidden"),t(".error").removeClass("hidden").empty().append("<p>"+e.data+"</p>"))},error:function(t){console.log(t)}})},e.prototype.accessOauth=function(e){t.ajax({url:eventintegration.ajaxurl,type:"post",dataType:"json",data:{action:"access_oauth",verifier:e},success:function(e){e.success?(t(".error").addClass("hidden"),location.reload()):(t(".updated").addClass("hidden"),t(".error").removeClass("hidden").empty().append("<p>"+e.data+"</p>"))},error:function(t){console.log(t)}})},e.prototype.deleteOauth=function(){t.ajax({url:eventintegration.ajaxurl,type:"post",data:{action:"delete_oauth"},success:function(t){console.log(t),location.reload()},error:function(t){console.log(t)}})},e.prototype.handleEvents=function(){t("#oauth-request").submit(function(o){o.preventDefault();var n=t("#client-key").val(),a=t("#client-secret").val();e.prototype.requestOauth(n,a)}.bind(this)),t("#oauth-access").submit(function(o){o.preventDefault();var n=t("#verification-token").val();console.log(n),e.prototype.accessOauth(n)}.bind(this)),t("#oauth-authorized").submit(function(t){t.preventDefault(),e.prototype.deleteOauth()}.bind(this))},new e}(jQuery)})()})();
//# sourceMappingURL=event-integration-admin.99b27d251bb86899d096.js.map